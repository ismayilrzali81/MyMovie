"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[880],{880:(e,t,a)=>{a.r(t),a.d(t,{most_popular:()=>n,movies:()=>l,new_arrival:()=>r});var i=a(669),d=a.n(i);const n=async(e,t,a=!0,i=!1,n)=>{console.log(n);const r=document.querySelector(`${t}`);e:for(let e in n.data.items){let t=n.data.items[e],l=await d().get(`http://www.omdbapi.com/?apikey=8d9cfe3d&i=${t.id}`);if("N/A"!==l.data.imdbRating&&void 0!==l.data.imdbRating&&(r.innerHTML+=`<div class="movie_list_item" data-id="${l.data.imdbID}">\n                                                <div class="photo_wrapper">\n                                                    <img src='${l.data.Poster}' loading="lazy" alt="movie photo">\n                                                   ${a?'<div class="favorite_toggle_btn"></div>':""}\n                                                </div>\n                                \n                                                <div class="year">${l.data.Year}</div>\n                                                <div class="title">${l.data.Title}</div>\n                                                <div class="score">\n                                                    <div class="imdb_score"> <img  class="imdb" alt="imdb">${"N/A"!=l.data.imdbRating&&l.data.imdbRating?l.data.imdbRating:0}/ 10</div>\n                                                </div>\n                                                <div class="genre">${l.data.Genre}</div>\n                                            </div>`,i&&10==e))break e}},r=(e,t)=>{d().get(e).then((e=>{const a=document.querySelector(`${t}`);e.data.items.forEach((async e=>{let t=await d().get(`http://www.omdbapi.com/?apikey=8d9cfe3d&i=${e.id}`);"N/A"!=t.data.imdbRating&&null!=t.data.imdbRating&&(a.innerHTML+=`<div class="movie_list_item" data-id="${t.data.imdbID}">\n                                <div class="photo_wrapper">\n                                    <img src='${t.data.Poster}' loading="lazy" alt="movie photo">\n                                    <div class="favorite_toggle_btn"></div>\n                                </div>\n                \n                                <div class="year">${t.data.Year}</div>\n                                <div class="title">${t.data.Title}</div>\n                                <div class="score">\n                                    <div class="imdb_score"> <img  class="imdb" alt="imdb">${"N/A"!=t.data.imdbRating&&t.data.imdbRating?t.data.imdbRating:0}/ 10</div>\n                                </div>\n                                <div class="genre">${t.data.Genre}</div>\n                            </div>`)}))}))},l=async(e,t,a,i,l,o)=>{document.querySelector(".video_wrapper .video");const s=await d().get(e);n(e,t,!0,!0,s),r(a,i);let c=[];const m=document.querySelector(`${l} div.movie_list`);for(let e=0;e<5;e++){let t=s.data.items[e];const a=await d().get(`https://imdb-api.com/en/API/Trailer/k_7q3vomr1/${t.id}`);c.push({videoId:a.data.videoId}),a.data.thumbnailUrl&&(m.innerHTML+=`<div class="movie_list_item" data-index=${e} >\n                    <div class="photo_wrapper">\n                        <img  alt="movie photo" loading="lazy" src="${a.data.thumbnailUrl}">\n                    </div>\n                    <div class="title">${a.data.fullTitle} Trailer </div>\n                    </div>`)}document.querySelector(l).addEventListener("click",(e=>{let t=e.target;if(t.classList.contains("movie_list_item")){if(document.querySelector(".video_wrapper").classList.toggle("active"),document.querySelector("#player")){document.querySelector("#player").remove();let e=document.createElement("div");e.id="player",document.querySelector(".video_wrapper").append(e)}new YT.Player("player",{height:"360",width:"640",videoId:c[t.dataset.index].videoId})}if(t.parentElement.classList.contains("movie_list_item")){if(document.querySelector(".video_wrapper").classList.toggle("active"),document.querySelector("#player")){document.querySelector("#player").remove();let e=document.createElement("div");e.id="player",document.querySelector(".video_wrapper").append(e)}new YT.Player("player",{height:"360",width:"640",videoId:c[t.parentElement.dataset.index].videoId})}if(t.parentElement.parentElement.classList.contains("movie_list_item")&&!t.classList.contains("favorite_toggle_btn")){if(document.querySelector(".video_wrapper").classList.toggle("active"),document.querySelector("#player")){document.querySelector("#player").remove();let e=document.createElement("div");e.id="player",document.querySelector(".video_wrapper").append(e)}new YT.Player("player",{height:"360",width:"640",videoId:c[t.parentElement.parentElement.dataset.index].videoId})}})),d().get(e).then((async e=>{let t=[];for(let a=0;a<5;a++){let i=e.data.items[a];const n=await d().get(`https://imdb-api.com/en/API/YouTubeTrailer/k_7q3vomr1/${i.id}`);let r=await d().get(`http://www.omdbapi.com/?apikey=8d9cfe3d&i=${i.id}`),l=await(await d().get(`https://www.myapifilms.com/imdb/idIMDB?idIMDB=${i.id}&token=f183f32a-f21f-435a-81ca-2778aad3a1fe`)).data.data.movies[0].urlPoster;t.push({title:i.title,imdbRatings:r.data.imdbRating&&"N/A"!==r.data.imdbRating?r.data.imdbRating:0,poster:l,video:n.data.videoId,content:r.data.Plot})}return t})).then((e=>{const t=document.querySelector(`${o} `);document.querySelectorAll(".movie_toggle li").forEach(((a,i)=>{a.addEventListener("click",(()=>{if(document.querySelector(".header_wrapper").style.cssText=`background: url(${e[i].poster}) \n                center 35% /cover no-repeat`,document.querySelector("iframe#player")){document.querySelector("iframe#player").remove();let e=document.createElement("div");e.id="player",document.querySelector(".video_wrapper").append(e)}new YT.Player("player",{height:"360",width:"640",videoId:`${e[i].video}`}),t.innerHTML=` <div class="container">\n                    <div class="title">${e[i].title}</div>\n                    <div class="score">\n                        <div class="imdb_score"> <img loading="lazy" class="imdb"  alt="imdb">${e[i].imdbRatings||"N/A"==e[i].imdbRatings?e[i].imdbRatings:0} / 10</div>\n                    </div>\n                    <div class="content">${e[i].content}</div>\n                    <button class="watch_trailer"> <img  alt="play">  Watch trailer</button>\n                </div>`}))})),t.innerHTML=` <div class="container">\n            <div class="title">${e[2].title}</div>\n            <div class="score">\n                <div class="imdb_score"> <img class="imdb"  alt="imdb">${e[2].imdbRatings||"N/A"==e[2].imdbRatings?e[2].imdbRatings:0} / 10</div>\n            </div>\n            <div class="content">${e[2].content}</div>\n            <button class="watch_trailer"> <img  alt="play">  Watch trailer</button>\n        </div>`,document.querySelector(".header_wrapper").style.cssText=`background: url(${e[2].poster}) center 35% /cover no-repeat`}))}}}]);